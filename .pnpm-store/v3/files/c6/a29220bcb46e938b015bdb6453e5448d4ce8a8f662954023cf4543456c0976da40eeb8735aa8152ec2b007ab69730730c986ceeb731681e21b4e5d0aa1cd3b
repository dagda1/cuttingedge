{"version":3,"file":"rollup-plugin-md.cjs.development.js","sources":["../src/md.ts"],"sourcesContent":["import type { PluginImpl } from 'rollup';\nimport type { MarkedOptions } from 'marked';\nimport marked from 'marked';\nimport { createFilter } from '@rollup/pluginutils';\n\nconst ext = /\\.md$/;\n\nexport type MdOptions = { marked?: MarkedOptions } & {\n  include?: string | RegExp | (string | RegExp)[];\n  exclude?: string | RegExp | (string | RegExp)[];\n};\n\nexport const md: PluginImpl<MdOptions> = (options = {}) => {\n  const filter = createFilter(options.include || ['**/*.md'], options.exclude);\n  if (options.marked) {\n    marked.setOptions(options.marked);\n  }\n  return {\n    name: 'md',\n\n    transform(md, id) {\n      if (!ext.test(id)) {\n        return null;\n      }\n\n      if (!filter(id)) {\n        return null;\n      }\n\n      const data = marked(md);\n      return {\n        code: `export default ${JSON.stringify(data.toString())};`,\n        map: { mappings: '' },\n      };\n    },\n  };\n};\n"],"names":["createFilter","marked"],"mappings":";;;;;;;;;;;AAKA,MAAM,GAAG,GAAG,OAAO,CAAC;MAOP,EAAE,GAA0B,CAAC,OAAO,GAAG,EAAE;IACpD,MAAM,MAAM,GAAGA,wBAAY,CAAC,OAAO,CAAC,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;IAC7E,IAAI,OAAO,CAAC,MAAM,EAAE;QAClBC,0BAAM,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;KACnC;IACD,OAAO;QACL,IAAI,EAAE,IAAI;QAEV,SAAS,CAAC,EAAE,EAAE,EAAE;YACd,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;gBACjB,OAAO,IAAI,CAAC;aACb;YAED,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBACf,OAAO,IAAI,CAAC;aACb;YAED,MAAM,IAAI,GAAGA,0BAAM,CAAC,EAAE,CAAC,CAAC;YACxB,OAAO;gBACL,IAAI,EAAE,kBAAkB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAG;gBAC1D,GAAG,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE;aACtB,CAAC;SACH;KACF,CAAC;AACJ;;;;"}