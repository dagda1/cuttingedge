"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRingBuffer = exports.createBuffer = void 0;
function createBuffer(size = Infinity) {
    if (size === Infinity) {
        return new Array();
    }
    else {
        return createRingBuffer(size);
    }
}
exports.createBuffer = createBuffer;
function createRingBuffer(size) {
    let head = 0;
    let buffer = [];
    return {
        push(value) {
            buffer[head] = value;
            head += 1;
            if (head >= size) {
                head = 0;
            }
        },
        *[Symbol.iterator]() {
            for (let current = 0; current < buffer.length; current++) {
                yield buffer[(current + head) % buffer.length];
            }
        }
    };
}
exports.createRingBuffer = createRingBuffer;
//# sourceMappingURL=buffer.js.map