{"version":3,"file":"rollup-plugin-md.cjs.production.min.js","sources":["../src/md.ts"],"sourcesContent":["import type { PluginImpl } from 'rollup';\nimport type { MarkedOptions } from 'marked';\nimport marked from 'marked';\nimport { createFilter } from '@rollup/pluginutils';\n\nconst ext = /\\.md$/;\n\nexport type MdOptions = { marked?: MarkedOptions } & {\n  include?: string | RegExp | (string | RegExp)[];\n  exclude?: string | RegExp | (string | RegExp)[];\n};\n\nexport const md: PluginImpl<MdOptions> = (options = {}) => {\n  const filter = createFilter(options.include || ['**/*.md'], options.exclude);\n  if (options.marked) {\n    marked.setOptions(options.marked);\n  }\n  return {\n    name: 'md',\n\n    transform(md, id) {\n      if (!ext.test(id)) {\n        return null;\n      }\n\n      if (!filter(id)) {\n        return null;\n      }\n\n      const data = marked(md);\n      return {\n        code: `export default ${JSON.stringify(data.toString())};`,\n        map: { mappings: '' },\n      };\n    },\n  };\n};\n"],"names":["ext","options","filter","createFilter","include","exclude","marked","setOptions","name","[object Object]","md","id","test","data","code","JSON","stringify","toString","map","mappings"],"mappings":"2LAKA,MAAMA,EAAM,mBAO6B,CAACC,EAAU,MAClD,MAAMC,EAASC,eAAaF,EAAQG,SAAW,CAAC,WAAYH,EAAQI,SAIpE,OAHIJ,EAAQK,QACVA,UAAOC,WAAWN,EAAQK,QAErB,CACLE,KAAM,KAENC,UAAUC,EAAIC,GACZ,IAAKX,EAAIY,KAAKD,GACZ,OAAO,KAGT,IAAKT,EAAOS,GACV,OAAO,KAGT,MAAME,EAAOP,UAAOI,GACpB,MAAO,CACLI,KAAM,kBAAkBC,KAAKC,UAAUH,EAAKI,eAC5CC,IAAK,CAAEC,SAAU"}